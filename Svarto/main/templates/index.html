{% load static %}
<!DOCTYPE html>
<html lang="hy">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Svarto Academy</title>
    <link href="{% static 'css/styles.css' %}" rel="stylesheet" />
    <script src="{% static 'js/main.js' %}"></script>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="#">Svarto Academy</a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item">
              <a class="nav-link" href="#about">Մեր Մասին</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#projects">Դպրոց</a>
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#contact">Կապ</a>
            </li>
          </ul>
        </div>
      </div>
    </nav>

    <header class="bg-primary text-white text-center py-5">
      <div class="container">
        <p class="lead">
          Svarto Academy-ն մասնագիտացած է ծրագրավորման կրթության մեջ՝ ներառելով
          Python, HTML, CSS, SQL, JavaScript և Django:
        </p>
        <a href="#projects" class="btn btn-light btn-lg"
          >Տեսնել մեր աշակերտներին</a
        >
      </div>
    </header>

    <section id="about" class="py-5">
      <div class="container">
        <div class="row align-items-center">
          <div class="col-md-6">
            <h2>Մեր Մասին</h2>
            <p>
              Svarto Academy-ն կրթական հարթակ է, որը ուսուցանում է ծրագրավորման
              հիմնական լեզուներ՝ Python, HTML, CSS, SQL, JavaScript և Django։
              Մեր նպատակն է պատրաստել գիտելիքով հարուստ և մրցունակ
              ծրագրավորողներ:
            </p>
          </div>
          <div class="col-md-6">
            <img
              src="{% static 'images/images.png' %}"
              class="img-fluid rounded"
              alt="Svarto Academy"
              style="width: 400px; height: 450px; object-fit: cover"
            />
          </div>
        </div>
      </div>
    </section>

    <section id="projects" class="py-5 bg-light">
      <div class="container">
        <h2 class="text-center mb-4">Դպրոց</h2>
        <div class="row">
          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-body">
                <button id="loadTeachers">Ուսուցիչները</button>
                <ul id="teacherList"></ul>
                <script>
                  document
                    .getElementById("loadTeachers")
                    .addEventListener("click", function () {
                      const teacherList =
                        document.getElementById("teacherList");
                      if (!teacherList.dataset.loaded) {
                        fetch("/teachers/json/")
                          .then((response) => response.json())
                          .then((data) => {
                            teacherList.innerHTML = "";
                            data.forEach((teacher) => {
                              const li = document.createElement("li");
                              li.textContent = teacher.name;
                              teacherList.appendChild(li);
                            });
                            teacherList.dataset.loaded = "true";
                          });
                      }
                      if (teacherList.style.display === "none") {
                        teacherList.style.display = "block"; 
                      } else {
                        teacherList.style.display = "none";
                      }
                    });
                </script>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-body">
                <button id="loadStudents">Աշակերտները</button>
                <ul id="studentList"></ul>
                <script>
                  document
                    .getElementById("loadStudents")
                    .addEventListener("click", function () {
                      const studentList =
                        document.getElementById("studentList");
                      if (!studentList.dataset.loaded) {
                        fetch("/students/json/")
                          .then((response) => response.json())
                          .then((data) => {
                            studentList.innerHTML = "";
                            data.forEach((student) => {
                              const li = document.createElement("li");
                              li.textContent = `${student.name} - ${student.class}`;
                              studentList.appendChild(li);
                            });
                            studentList.dataset.loaded = "true";
                          });
                      }
                      if (studentList.style.display === "none") {
                        studentList.style.display = "block"; 
                      } else {
                        studentList.style.display = "none"; 
                      }
                    });
                </script>
              </div>
            </div>
          </div>

          <div class="col-md-4 mb-4">
            <div class="card">
              <div class="card-body">
                <button id="loadClasses">Դասարանները</button>
                <ul id="classList"></ul>
                <script>
                  document
                    .getElementById("loadClasses")
                    .addEventListener("click", function () {
                      const classList = document.getElementById("classList");

                      if (!classList.dataset.loaded) {
                        fetch("/classes/json/")
                          .then((response) => response.json())
                          .then((data) => {
                            classList.innerHTML = "";
                            data.forEach((classData) => {
                              const li = document.createElement("li");
                              li.textContent = `${
                                classData.class_name
                              } - Աշակերտներ: ${classData.students.join(", ")}`;
                              classList.appendChild(li);
                            });
                            classList.dataset.loaded = "true";
                          });
                      }
                      if (classList.style.display === "none") {
                        classList.style.display = "block"; լ
                      } else {
                        classList.style.display = "none";
                      }
                    });
                </script>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <section id="contact" class="py-5">
      <div class="container">
        <h2 class="text-center">Կապ</h2>
        <form onsubmit="handleSubmit(event)">
          <div class="mb-3">
            <label class="form-label">Անուն</label>
            <input type="text" class="form-control" id="name" />
          </div>
          <div class="mb-3">
            <label class="form-label">Էլ․ փոստ</label>
            <input type="email" class="form-control" id="email" />
          </div>
          <div class="mb-3">
            <label class="form-label">Հաղորդագրություն</label>
            <textarea class="form-control" rows="4" id="message"></textarea>
          </div>
          <button type="submit" class="btn btn-primary">Ուղարկել</button>
        </form>
      </div>
    </section>

    <script>
      function handleSubmit(event) {
        event.preventDefault();
        const name = document.getElementById("name").value;
        const email = document.getElementById("email").value;
        const message = document.getElementById("message").value;
        alert("Հաղորդագրությունը ընդունվեց, շնորհակալություն կապի համար!");
      }
    </script>

    <footer class="bg-dark text-white text-center py-3">
      <p>
        &copy; 2025 Svarto Academy | <a href="#" class="text-white">Կայք</a>
      </p>
    </footer>
  </body>
</html>
